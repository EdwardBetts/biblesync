%define		version		@BIBLESYNC_VERSION@
Name:		biblesync
Version:	%{version}
Summary:	BibleSync: Bible software multicast co-navigation
Release:	1xi%{?dist}
License:	public domain
Packager:	Karl Kleinpaste
URL:		https://github.com/karlkleinpaste/biblesync
Source:		http://sourceforge.net/projects/gnomesword/files/BibleSync/%{version}/biblesync-%{version}.tar.gz
Group:		System Environment/Libraries
BuildRequires:	intltool
BuildRequires:	libuuid-devel
Requires:	libuuid
%define		debug_package	%{nil}

%description
BibleSync is a multicast protocol to support Bible software shared co-navigation.
It uses LAN multicast in either a personal/small team mutual navigation motif or
in a classroom environment where there are Speakers plus the Audience.
It provides a complete yet minimal public interface to support mode setting,
setup for packet reception, transmit on local navigation, and handling of incoming
packets.
This library is not specific to any particular Bible software framework, completely
agnostic as to structure of layers above BibleSync.
This build produced by Xiphos development; not from official Fedora repo.

%prep
%setup -q

%build
mkdir build
cd build
cmake -DBUILD_SHARED_LIBS=TRUE -DCMAKE_INSTALL_PREFIX=/usr -DLIBDIR=%{_libdir} ..
make

%install
cd build
make install DESTDIR="$RPM_BUILD_ROOT"
exit 0

%post -p /sbin/ldconfig

%postun -p /sbin/ldconfig

%files
%doc AUTHORS COPYING ChangeLog LICENSE README WIRESHARK biblesync-v1.png
%{_includedir}/biblesync
%{_libdir}/libbiblesync*.so*
%{_libdir}/pkgconfig/biblesync.pc
%{_mandir}/man7/biblesync.7

%changelog
* Thu Jun 12 2014 Karl Kleinpaste <karl@kleinpaste.org>
- Update 1.0.2 and make .spec work for the 1st time.

* Sun May 11 2014 Karl Kleinpaste <karl@kleinpaste.org>
- Version 1.0.0
